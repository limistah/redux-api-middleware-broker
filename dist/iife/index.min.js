var bundle=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?n(o,!0).forEach((function(n){e(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};const a="@@redux-api-middleware/RSAA";function i(t){return t&&"object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype}function s(t){return i(t)&&t.hasOwnProperty(a)}function p(t){const e=["type","payload","meta"];if(!i(t))return!1;for(let n in t)if(!~e.indexOf(n))return!1;return"type"in t&&("string"==typeof t.type||"symbol"==typeof t.type)}function u(t){var e=[];const n=["endpoint","options","method","body","headers","credentials","bailout","types","fetch","ok"],r=["omit","same-origin","include"];if(!s(t))return e.push("RSAAs must be plain JavaScript objects with an [RSAA] property"),e;const o=t[a];i(o)||e.push("[RSAA] property must be a plain JavaScript object");for(let t in o)~n.indexOf(t)||e.push(`Invalid [RSAA] key: ${t}`);const{endpoint:u,method:c,headers:f,options:y,credentials:l,types:d,bailout:h,fetch:b,ok:A}=o;if(void 0===u?e.push("[RSAA] must have an endpoint property"):"string"!=typeof u&&"function"!=typeof u&&e.push("[RSAA].endpoint property must be a string or a function"),void 0===c?e.push("[RSAA] must have a method property"):"string"!=typeof c?e.push("[RSAA].method property must be a string"):~["GET","HEAD","POST","PUT","PATCH","DELETE","OPTIONS"].indexOf(c.toUpperCase())||e.push(`Invalid [RSAA].method: ${c.toUpperCase()}`),void 0===f||i(f)||"function"==typeof f||e.push("[RSAA].headers property must be undefined, a plain JavaScript object, or a function"),void 0===y||i(y)||"function"==typeof y||e.push("[RSAA].options property must be undefined, a plain JavaScript object, or a function"),void 0!==l&&("string"!=typeof l?e.push("[RSAA].credentials property must be undefined, or a string"):~r.indexOf(l)||e.push(`Invalid [RSAA].credentials: ${l}`)),void 0!==h&&"boolean"!=typeof h&&"function"!=typeof h&&e.push("[RSAA].bailout property must be undefined, a boolean, or a function"),void 0===d)e.push("[RSAA] must have a types property");else if(Array.isArray(d)&&3===d.length){const[t,n,r]=d;"string"==typeof t||"symbol"==typeof t||p(t)||e.push("Invalid request type"),"string"==typeof n||"symbol"==typeof n||p(n)||e.push("Invalid success type"),"string"==typeof r||"symbol"==typeof r||p(r)||e.push("Invalid failure type")}else e.push("[RSAA].types property must be an array of length 3");return void 0!==b&&"function"!=typeof b&&e.push("[RSAA].fetch property must be a function"),void 0!==A&&"function"!=typeof A&&e.push("[RSAA].ok property must be a function"),e}class c extends Error{constructor(t){super(),this.name="InvalidRSAA",this.message="Invalid RSAA",this.validationErrors=t}}class f extends Error{constructor(t){super(),this.name="InternalError",this.message=t}}class y extends Error{constructor(t){super(),this.name="RequestError",this.message=t}}class l extends Error{constructor(t,e,n){super(),this.name="ApiError",this.status=t,this.statusText=e,this.response=n,this.message=`${t} - ${e}`}}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){h(t,e,n[e])}))}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}async function b(t){const e=t.headers.get("Content-Type");return!~[204,205].indexOf(t.status)&&e&&~e.indexOf("json")?await t.json():await Promise.resolve()}async function A(t,e=[]){try{t.payload="function"==typeof t.payload?await t.payload(...e):t.payload}catch(e){t.payload=new f(e.message),t.error=!0}try{t.meta="function"==typeof t.meta?await t.meta(...e):t.meta}catch(e){delete t.meta,t.payload=new f(e.message),t.error=!0}return t}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){g(t,e,n[e])}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const S={ok:t=>t.ok,fetch:fetch};function v(t={}){const e=Object.assign({},S,t);return({getState:t})=>n=>r=>s(r)?(async()=>{const o=u(r);if(o.length){const t=r[a];if(t.types&&Array.isArray(t.types)){let e=t.types[0];e&&e.type&&(e=e.type),n({type:e,payload:new c(o),error:!0})}return}const i=r[a];var{endpoint:s,body:p,headers:h,options:g={},fetch:S=e.fetch,ok:v=e.ok}=i;const{method:w,credentials:O,bailout:R,types:j}=i,[P,E,x]=function(t){let[e,n,r]=t;return"string"!=typeof e&&"symbol"!=typeof e||(e={type:e}),"string"!=typeof n&&"symbol"!=typeof n||(n={type:n}),"string"!=typeof r&&"symbol"!=typeof r||(r={type:r}),[e,n=d({payload:(t,e,n)=>b(n)},n),r=d({payload:(t,e,n)=>b(n).then(t=>new l(n.status,n.statusText,t))},r)]}(j);try{if("boolean"==typeof R&&R||"function"==typeof R&&R(t()))return}catch(e){return n(await A(m({},x,{payload:new y("[RSAA].bailout function failed"),error:!0}),[r,t()]))}if("function"==typeof s)try{s=s(t())}catch(e){return n(await A(m({},x,{payload:new y("[RSAA].endpoint function failed"),error:!0}),[r,t()]))}if("function"==typeof p)try{p=p(t())}catch(e){return n(await A(m({},x,{payload:new y("[RSAA].body function failed"),error:!0}),[r,t()]))}if("function"==typeof h)try{h=h(t())}catch(e){return n(await A(m({},x,{payload:new y("[RSAA].headers function failed"),error:!0}),[r,t()]))}if("function"==typeof g)try{g=g(t())}catch(e){return n(await A(m({},x,{payload:new y("[RSAA].options function failed"),error:!0}),[r,t()]))}let T,k;"function"==typeof P.payload||"function"==typeof P.meta?n(await A(P,[r,t()])):n(P);try{T=await S(s,m({},g,{method:w,body:p||void 0,credentials:O,headers:h||{}}))}catch(e){return n(await A(m({},x,{payload:new y(e.message),error:!0}),[r,t()]))}try{k=v(T)}catch(e){return n(await A(m({},x,{payload:new f("[RSAA].ok function failed"),error:!0}),[r,t(),T]))}return n(k?await A(E,[r,t(),T]):await A(m({},x,{error:!0}),[r,t(),T]))})():n(r)}var w=Object.freeze({__proto__:null,RSAA:a,isRSAA:s,validateRSAA:u,isValidRSAA:function(t){return!u(t).length},InvalidRSAA:c,InternalError:f,RequestError:y,ApiError:l,getJSON:b,createMiddleware:v,apiMiddleware:function({getState:t}){return v()({getState:t})}});o.fetch=function(){};var O=w.RSAA;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{endpoint:"/",types:[],method:"GET",body:{},headers:{}},o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){return t},s=n.types,p=[s[0],{type:s[1],payload:function(t,e,n){return a(t,e,n),n.json().then((function(t){return i(t)}))}},{type:s[2],meta:function(t,e,n){return a(t,e,n),n?{status:n.status,statusText:n.statusText}:{status:"Network request failed"}}}],u=o?n.body:JSON.stringify(n.body);return e({},O,{endpoint:n.endpoint||"",method:n.method||"GET",types:n.types?p:[],headers:r({},"object"===t(n.headers)?n.headers:{}),body:u})}}();
