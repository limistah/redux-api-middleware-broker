var bundle=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function n(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(o,!0).forEach((function(r){e(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}const o="@@redux-api-middleware/RSAA";function a(t){return t&&"object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype}function i(t){return a(t)&&t.hasOwnProperty(o)}function s(t){const e=["type","payload","meta"];if(!a(t))return!1;for(let r in t)if(!~e.indexOf(r))return!1;return"type"in t&&("string"==typeof t.type||"symbol"==typeof t.type)}function p(t){var e=[];const r=["endpoint","options","method","body","headers","credentials","bailout","types","fetch","ok"],n=["omit","same-origin","include"];if(!i(t))return e.push("RSAAs must be plain JavaScript objects with an [RSAA] property"),e;const p=t[o];a(p)||e.push("[RSAA] property must be a plain JavaScript object");for(let t in p)~r.indexOf(t)||e.push(`Invalid [RSAA] key: ${t}`);const{endpoint:u,method:c,headers:y,options:f,credentials:l,types:d,bailout:h,fetch:b,ok:A}=p;if(void 0===u?e.push("[RSAA] must have an endpoint property"):"string"!=typeof u&&"function"!=typeof u&&e.push("[RSAA].endpoint property must be a string or a function"),void 0===c?e.push("[RSAA] must have a method property"):"string"!=typeof c?e.push("[RSAA].method property must be a string"):~["GET","HEAD","POST","PUT","PATCH","DELETE","OPTIONS"].indexOf(c.toUpperCase())||e.push(`Invalid [RSAA].method: ${c.toUpperCase()}`),void 0===y||a(y)||"function"==typeof y||e.push("[RSAA].headers property must be undefined, a plain JavaScript object, or a function"),void 0===f||a(f)||"function"==typeof f||e.push("[RSAA].options property must be undefined, a plain JavaScript object, or a function"),void 0!==l&&("string"!=typeof l?e.push("[RSAA].credentials property must be undefined, or a string"):~n.indexOf(l)||e.push(`Invalid [RSAA].credentials: ${l}`)),void 0!==h&&"boolean"!=typeof h&&"function"!=typeof h&&e.push("[RSAA].bailout property must be undefined, a boolean, or a function"),void 0===d)e.push("[RSAA] must have a types property");else if(Array.isArray(d)&&3===d.length){const[t,r,n]=d;"string"==typeof t||"symbol"==typeof t||s(t)||e.push("Invalid request type"),"string"==typeof r||"symbol"==typeof r||s(r)||e.push("Invalid success type"),"string"==typeof n||"symbol"==typeof n||s(n)||e.push("Invalid failure type")}else e.push("[RSAA].types property must be an array of length 3");return void 0!==b&&"function"!=typeof b&&e.push("[RSAA].fetch property must be a function"),void 0!==A&&"function"!=typeof A&&e.push("[RSAA].ok property must be a function"),e}class u extends Error{constructor(t){super(),this.name="InvalidRSAA",this.message="Invalid RSAA",this.validationErrors=t}}class c extends Error{constructor(t){super(),this.name="InternalError",this.message=t}}class y extends Error{constructor(t){super(),this.name="RequestError",this.message=t}}class f extends Error{constructor(t,e,r){super(),this.name="ApiError",this.status=t,this.statusText=e,this.response=r,this.message=`${t} - ${e}`}}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){d(t,e,r[e])}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}async function h(t){const e=t.headers.get("Content-Type");return!~[204,205].indexOf(t.status)&&e&&~e.indexOf("json")?await t.json():await Promise.resolve()}async function b(t,e=[]){try{t.payload="function"==typeof t.payload?await t.payload(...e):t.payload}catch(e){t.payload=new c(e.message),t.error=!0}try{t.meta="function"==typeof t.meta?await t.meta(...e):t.meta}catch(e){delete t.meta,t.payload=new c(e.message),t.error=!0}return t}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){m(t,e,r[e])}))}return t}function m(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const g={ok:t=>t.ok,fetch:fetch};function S(t={}){const e=Object.assign({},g,t);return({getState:t})=>r=>n=>i(n)?(async()=>{const a=p(n);if(a.length){const t=n[o];if(t.types&&Array.isArray(t.types)){let e=t.types[0];e&&e.type&&(e=e.type),r({type:e,payload:new u(a),error:!0})}return}const i=n[o];var{endpoint:s,body:d,headers:m,options:g={},fetch:S=e.fetch,ok:v=e.ok}=i;const{method:O,credentials:w,bailout:R,types:j}=i,[P,E,x]=function(t){let[e,r,n]=t;return"string"!=typeof e&&"symbol"!=typeof e||(e={type:e}),"string"!=typeof r&&"symbol"!=typeof r||(r={type:r}),"string"!=typeof n&&"symbol"!=typeof n||(n={type:n}),[e,r=l({payload:(t,e,r)=>h(r)},r),n=l({payload:(t,e,r)=>h(r).then(t=>new f(r.status,r.statusText,t))},n)]}(j);try{if("boolean"==typeof R&&R||"function"==typeof R&&R(t()))return}catch(e){return r(await b(A({},x,{payload:new y("[RSAA].bailout function failed"),error:!0}),[n,t()]))}if("function"==typeof s)try{s=s(t())}catch(e){return r(await b(A({},x,{payload:new y("[RSAA].endpoint function failed"),error:!0}),[n,t()]))}if("function"==typeof d)try{d=d(t())}catch(e){return r(await b(A({},x,{payload:new y("[RSAA].body function failed"),error:!0}),[n,t()]))}if("function"==typeof m)try{m=m(t())}catch(e){return r(await b(A({},x,{payload:new y("[RSAA].headers function failed"),error:!0}),[n,t()]))}if("function"==typeof g)try{g=g(t())}catch(e){return r(await b(A({},x,{payload:new y("[RSAA].options function failed"),error:!0}),[n,t()]))}let k,T;"function"==typeof P.payload||"function"==typeof P.meta?r(await b(P,[n,t()])):r(P);try{k=await S(s,A({},g,{method:O,body:d||void 0,credentials:w,headers:m||{}}))}catch(e){return r(await b(A({},x,{payload:new y(e.message),error:!0}),[n,t()]))}try{T=v(k)}catch(e){return r(await b(A({},x,{payload:new c("[RSAA].ok function failed"),error:!0}),[n,t(),k]))}return r(T?await b(E,[n,t(),k]):await b(A({},x,{error:!0}),[n,t(),k]))})():r(n)}var v=Object.freeze({__proto__:null,RSAA:o,isRSAA:i,validateRSAA:p,isValidRSAA:function(t){return!p(t).length},InvalidRSAA:u,InternalError:c,RequestError:y,ApiError:f,getJSON:h,createMiddleware:S,apiMiddleware:function({getState:t}){return S()({getState:t})}}).RSAA;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{endpoint:"/",types:[],method:"GET",body:{},headers:{},options:{},credentials:{},fetch:{}},o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){return t},s=r.types,p=[s[0],{type:s[1],payload:function(t,e,r){return a(t,e,r),r.json().then((function(t){return i(t)}))}},{type:s[2],meta:function(t,e,r){return a(t,e,r),r?{status:r.status,statusText:r.statusText}:{status:"Network request failed"}}}],u=o?r.body:JSON.stringify(r.body);return e({},v,{endpoint:r.endpoint||"",method:r.method||"GET",types:r.types?p:[],headers:n({},"object"===t(r.headers)?r.headers:{}),body:u})}}();
