"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var broker=function(e,t,r,o){var n=0<arguments.length&&void 0!==e?e:{endpoint:"/",types:[],method:"GET",body:{},headers:{}},i=1<arguments.length&&void 0!==t&&t,y=2<arguments.length&&void 0!==r?r:function(){},u=3<arguments.length&&void 0!==o?o:function(e){return e},p=n.types,s=[p[0],{type:p[1],payload:function(e,t,r){return y(e,t,r),r.json().then(function(e){return u(e)})}},{type:p[2],meta:function(e,t,r){return y(e,t,r),r?{status:r.status,statusText:r.statusText}:{status:"Network request failed"}}}],c=i?n.body:JSON.stringify(n.body);return _defineProperty({},RSAA,{endpoint:n.endpoint||"",method:n.method||"GET",types:n.types?s:[],headers:_objectSpread2({},"object"===_typeof(optoins.headers)?n.headers:{}),body:c})};module.exports=broker;
